<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Password Recovery</title>
</head>
<body>
    <h>Password Recovery</h>
    <input type="email" id="recoveremail" placeholder="E-mail">
    <button id="recoverbtn">Submit</button>
</body>

<script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.5.2/firebase-app.js";
        import { getDatabase, set, ref, update } from "https://www.gstatic.com/firebasejs/10.5.2/firebase-database.js";
        import { getAuth, sendPasswordResetEmail} from "https://www.gstatic.com/firebasejs/10.5.2/firebase-auth.js";

    const firebaseConfig = {
    apiKey: "AIzaSyCE4N3-_icVHFbWLWI9rqO_E-uXwqB67rk",
    authDomain: "pawmates-a1757.firebaseapp.com",
    projectId: "pawmates-a1757",
    storageBucket: "pawmates-a1757.appspot.com",
    messagingSenderId: "212632097126",
    appId: "1:212632097126:web:bb4518a57e31549c2178a7"
  };
      
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);
        const auth = getAuth();     
        
        var submit=document.getElementById("recoverbtn");
        var forgetEmail=document.getElementById("recoveremail").value;

        submit.addEventListener("click", ()=> {
            sendPasswordResetEmail(auth, forgetEmail)
            .then(() =>{
                forgetEmail="";
               alert('Submission Completed! Please check email for account recovery!');
            })
            .catch((error) =>{
               const errorCode = error.code;
               const errorMessage = error.message;
               alert('Please enter correct email or your password has already been reset!');
            });
            })
        
        
</script>
</html>